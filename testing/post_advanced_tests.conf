# Advanced POST tests configuration
# This config tests various POST scenarios for 42 webserver requirements

server
{
    listen 16000;
    server_name advanced_post_server;
    
    Test location for form data
    location /form
    {
        root /testing/results/post_advanced;
        client_max_body_size 1M;
    }
    
    # Test location for JSON data
    location /json
    {
        root /testing/results/post_advanced;
        client_max_body_size 500k;
    }
    
    # Test location with very small body size limit
    location /small_limit
    {
        root /testing/results/post_advanced;
        client_max_body_size 100;
    }
    
    # Test location that only allows GET (should reject POST)
    location /get_only
    {
        root /testing/results/post_advanced;
        limit_except GET {
            deny all;
        }
    }
    
    # Test location for chunked transfer
    location /chunked
    {
        root /testing/results/post_advanced;
        client_max_body_size 2M;
    }
    
    # Test location for multiple files
    location /multi_upload
    {
        root /testing/results/post_advanced;
        client_max_body_size 5M;
    }
    
    # Default location
    location /
    {
        root /testing/web/web1;
        index index.html;
    }
}

server
{
    listen 16001;
    server_name error_test_server;
    
    # Location with extremely small limit for testing 413 error
    location /tiny_limit
    {
        root /testing/results/post_advanced;
        client_max_body_size 10;
    }
    
    # Location for testing malformed requests
    location /test_errors
    {
        root /testing/results/post_advanced;
        client_max_body_size 1M;
    }
    
    location /
    {
        root /testing/web/web1;
        index index.html;
    }
}
